scalar DateTime

schema {
    query: Query
    mutation: Mutation
}




type Message {
    id: ID!
    thread: Thread!
    user_id: User!
    type: String
    paths: [String]
    created_at: DateTime!
    updated_at: DateTime!
    deleted_at: DateTime
}

type MessagesPage {
    items: [Message!]!
    next_cursor: String
    has_more: Boolean!
}





enum ChannelType {
    PUBLIC
    PRIVATE
}

type ChannelMember {
    id: ID!
    joined_at: Float!
}

type Channel {
    id: ID
    name: String!
    owner_id: String!
    users: [ChannelMember!]!
    threads: [String!]!
    is_active: Boolean!
    channel_type: ChannelType!
    created_at: Float!
    updated_at: Float!
    deleted_at: Float
}






type Query {
    getMessage(thread_id: String!, user_id: String!): MessagesPage!

    getChannel(channel_id: String!): Channel!
}

type Mutation {
    createMessage(thread_id: ID!, content: String!, type_: String!, paths: [String], user_id: String!): Message!
    updateMessage(thread_id: String!, message_id: String!, content: String!, type_: String!, paths: [String], user_id: String!): Message!
    deleteMessage(thread_id: String!, message_id: String!, user_id: String!): Boolean!

    createChannel(name: String!, owner_id: String!, users: [ChannelMember!]!, channel_type: ChannelType!): Channel!
    updateChannel(channel_id: ID!, name: String!, owner_id: String!, channel_type: ChannelType!): Channel!
    deleteChannel(channel_id: ID!): ID!
    reactivateChannel(channel_id: ID!): ID!
}