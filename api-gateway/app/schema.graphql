scalar DateTime

schema {
    query: Query
    mutation: Mutation
}




type Message {
    id: ID!
    thread: Thread!
    user_id: User!
    type: String
    paths: [String]
    created_at: DateTime!
    updated_at: DateTime!
    deleted_at: DateTime
}

type MessagesPage {
    items: [Message!]!
    next_cursor: String
    has_more: Boolean!
}





enum ChannelType {
    PUBLIC
    PRIVATE
}

type ChannelMember {
    id: ID!
    joined_at: Float!
}

type Channel {
    id: ID
    name: String!
    owner_id: String!
    users: [ChannelMember!]!
    threads: [String!]!
    is_active: Boolean!
    channel_type: ChannelType!
    created_at: Float!
    updated_at: Float!
    deleted_at: Float
}






type Query {
    getMessage(thread_id: ID!, user_id: ID!): MessagesPage!


}

type Mutation {
    createMessage(thread_id: ID!, content: String!, type_: String!, paths: [String], user_id: ID!): Message!
    updateMessage(thread_id: ID!, message_id: ID!, content: String!, type_: String!, paths: [String], user_id: ID!): Message!
    deleteMessage(thread_id: ID!, message_id: ID!, user_id: ID!): Boolean!

    createChannel(thread_id: ID!, content: String!, type_: String!, paths: [String], user_id: ID!): Channel!
    updateChannel(thread_id: ID!, message_id: ID!, content: String!, type_: String!, paths: [String], user_id: ID!): Channel!
    deleteChannel(thread_id: ID!, message_id: ID!, user_id: ID!): Channel!
    reactivateChannel(thread_id: ID!, message_id: ID!, user_id: ID!): Boolean!
}